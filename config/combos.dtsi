/* Copied (modified) from https://github.com/caksoylar/zmk-config */
#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS, TERM, QUICKTAP) \
  combo_##NAME { \
    timeout-ms = <TERM>; \
    bindings = <BINDINGS>; \
    key-positions = <KEYPOS>; \
    layers = <LAYERS>; \
    require-prior-idle-ms = <QUICKTAP>; \
  };

/ {
  combos {
    compatible = "zmk,combos";
    /*
      KEY POSITIONS
      ╭────────────────────────╮  ╭────────────────────────╮
      │ 0   1   2   3   4   5  │  │ 6   7   8   9   10  11 │
      │ 12  13  14  15  16  17 │  │ 18  19  20  21  22  23 │
      │ 24  25  26  27  28  29 │  │ 30  31  32  33  34  35 │
      ╰───────────╮ 36  37  38 │  │ 39  40  41 ╭───────────╯
                  ╰────────────╯  ╰────────────╯
    */

    /* Symbols */
    // Left
    COMBO(esc, &kp ESCAPE, 1 2, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(excl, &kp EXCL, 1 13, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(at, &kp AT, 2 14, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(hash, &kp HASH, 3 15, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(dollar, &kp DOLLAR, 4 16, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(percent, &kp PERCENT, 5 17, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(lbrc, &kp LEFT_BRACE, 14 26, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(rbrc, &kp RIGHT_BRACE, 15 27, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(lpar, &kp LPAR, 16 28, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(rpar, &kp RPAR, 17 29, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)

    // Both
    COMBO(num_word, &num_word 3, 5 6, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(caps_word, &caps_word, 17 18, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(nav_word, &nav_word 1, 29 30, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)

    // Right
    COMBO(caret, &kp CARET, 6 18, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(ampersand, &kp AMPERSAND, 7 19, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(star, &kp STAR, 8 20, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(equal, &kp EQUAL, 9 21, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    // COMBO(minus, &kp MINUS, , 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(lbkt, &kp LBKT, 19 31, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    COMBO(rbkt, &kp RBKT, 20 32, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
    // COMBO(backslash, &kp BACKSLASH, 21 33, 0, COMBO_TERM_DEFAULT, COMBO_QUICK_TAP_MS)
  };
};
